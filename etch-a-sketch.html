<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Etch-a-Sketch</title>
        <meta charset="UTF-8">
       
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <div class="top">
            
            <h1>Etch-a-Sketch</h1>

            <button class='clear'>Clear sketch</button>
    
            <button class="newGrid">New grid</button>

        </div>
        
        <div class="gridContainer">

        

        </div>

    </body>

    <script>

        const clearButton = document.querySelector('.clear');
        const newGridButton = document.querySelector('.newGrid');

        const gridContainer = document.querySelector('.gridContainer');
        let cell
        let rowNum = prompt('Choose how many rows and columns you\'d like the grid to have, 2-100')
        let colNum = rowNum;

        function makegrid(rowNum, colNum){

            gridContainer.style.setProperty('--gridRows', rowNum);
            gridContainer.style.setProperty('--gridCol', colNum);

            for (i=0; i<(rowNum*colNum); i++){
            cell = document.createElement('div');
            cell.classList.add('cell');  
            gridContainer.appendChild(cell);
            }
        }

        makegrid(rowNum, colNum);//a few bugs, spills over, don't want that. width is constrained. a few options. minmax(0, 1fr), keeps everything square. 
        //else allow to overflow, gives larger sketch grid.

        //above 40 squares, squares double over each other and stop being square. why?

       const cells = Array.from(document.querySelectorAll('.cell'));
       cells.forEach(cell => cell.addEventListener('mouseover', function(){
           cell.classList.add('hover');
       })); //makes an array from each individual cell so that each cell can be iterated over and have an eventlistener added to it, plus function.

       clearButton.addEventListener('click', function(){
           cells.forEach(cell => cell.classList.remove('hover'))
       })

       newGridButton.addEventListener('click', function(){

        
        let rowNum = prompt('Choose how many rows and columns you\'d like the grid to have, 2-100');
        let colNum = rowNum;
        makegrid(rowNum, colNum);

        //doesn't quite set everything to 0, and when new grid is called, overspill can then happen

       })

       //anything over rownNum = 40 cells start doubling over, needed, min-height and min-width set to auto in css! ffs!

       


       

       
       /*
       Things to do:

       -Implement restart button, clears what has been traced, prompts user for dimension of new grid. Or two buttons, one clear all, one new grid

       -Create prompt at start/onload, for user to choose size of grid, 0 - 100.
       i.e rowNum = prompt('Choose a number between 1-100 to make a grid.').parseToInt, let colNum = rowNum. only need to ask for one input then.
       Need to make exclusions, 2 <= rowNum <= 100. 

       -Hold space to stop sketching, i.e eventlistener on space disables hover class being added to cells.
       */ 
            
            

       
    </script>


</html>